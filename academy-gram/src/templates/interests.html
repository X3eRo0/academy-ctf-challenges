{% extends "layout.html" %}
{% block body %}
<div class="page-container">
  <header class="profile-header">
    <div class="profile-avatar">
      {{ user_of_interest.username[0].upper() }}
    </div>
    <div class="profile-info">
      <div class="profile-name">
        <h1 class="username">{{ user_of_interest.username }}</h1>
      </div>
    </div>
  </header>

  <div class="profile-tabs">
    <a href="{{ url_for('profile', username=user_of_interest.username) }}" class="tab-link">
      <i class="fas fa-th-large"></i>
      Posts
    </a>
    <a href="{{ url_for('interests', user_id=user_of_interest.user_id) }}" class="tab-link active">
      <i class="fas fa-bookmark"></i>
      Interests
    </a>
  </div>
  
  <div class="interests-columns">
    <div class="post-card" style="padding: 20px;">
      <h3 class="section-title">
        <i class="fas fa-heart"></i>
        Current Interests
      </h3>
      {% if user_of_interest.interests %}
        <div class="interests-grid">
          {% for interest in user_of_interest.interests.split(',') %}
            <span class="interest-tag">
              {{ interest.strip() }}
            </span>
          {% endfor %}
        </div>
      {% else %}
        <div class="empty-interests">
          <p>No interests shared yet.</p>
        </div>
      {% endif %}
    </div>
    
    {% if current_user.user_id == user_of_interest.user_id %}
    <div class="post-card" style="padding: 20px;">
      <h3 class="section-title">
        <i class="fas fa-edit"></i>
        Update Your Interests
      </h3>
      <form method="post" action="{{ url_for('update_user_interests') }}" class="interests-form">
        <div class="form-group">
          <textarea 
            name="interests" 
            id="interests" 
            class="form-input"
            placeholder="e.g. Cybersecurity Research, CTF Competitions, Binary Analysis..."
          >{{ user_of_interest.interests or '' }}</textarea>
        </div>
        <button type="submit" class="form-submit">
          Update Interests
        </button>
      </form>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}