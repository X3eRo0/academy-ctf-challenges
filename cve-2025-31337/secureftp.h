#ifndef SECUREFTP_H
#define SECUREFTP_H

// Standard library includes
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include <errno.h>

// Network includes
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>

// Process/signal includes
#include <signal.h>
#include <sys/wait.h>

// Server configuration
#define DEFAULT_PORT 2121
#define BACKLOG 10
#define BUFFER_SIZE 1024
#define MAX_PATH 256

// FTP response codes (commonly used)
#define SFTP_READY "220"
#define SFTP_GOODBYE "221"
#define SFTP_DATA_CONN_OPEN "225"
#define SFTP_CLOSING_DATA "226"
#define SFTP_PASSIVE_MODE "227"
#define SFTP_USER_LOGGED_IN "230"
#define SFTP_FILE_ACTION_OK "250"
#define SFTP_PATHNAME "257"
#define SFTP_USER_OK "331"
#define SFTP_NEED_ACCOUNT "332"
#define SFTP_FILE_PENDING "350"
#define SFTP_SERVICE_NA "421"
#define SFTP_CANT_OPEN_DATA "425"
#define SFTP_CONN_CLOSED "426"
#define SFTP_FILE_UNAVAIL "450"
#define SFTP_LOCAL_ERROR "451"
#define SFTP_INSUFFICIENT "452"
#define SFTP_BAD_COMMAND "500"
#define SFTP_BAD_ARGUMENTS "501"
#define SFTP_NOT_IMPLEMENTED "502"
#define SFTP_BAD_SEQUENCE "503"
#define SFTP_NOT_IMPLEMENTED_PARAM "504"
#define SFTP_NOT_LOGGED_IN "530"
#define SFTP_NEED_ACCOUNT_STORE "532"
#define SFTP_FILE_NOT_FOUND "550"
#define SFTP_PAGE_TYPE_UNK "551"
#define SFTP_EXCEEDED_STORAGE "552"
#define SFTP_BAD_FILENAME "553"

// Function declarations
void handle_client(int client_fd);
void sigchld_handler(int sig);

// Utility function declarations (you might want to implement these)
void send_response(int fd, const char* code, const char* message);
int parse_command(const char* buffer, char* command, char* args);

#endif // SECUREFTP_H
